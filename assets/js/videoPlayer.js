(()=>{const e=document.querySelector("video"),t=document.getElementById("play"),n=t.querySelector("i"),a=document.getElementById("mute"),d=a.querySelector("i"),u=document.getElementById("currentTime"),l=document.getElementById("totalTime"),s=document.getElementById("volume"),o=document.getElementById("timeline"),m=document.getElementById("fullScreen"),i=m.querySelector("i"),r=document.getElementById("videoContainer"),c=document.getElementById("videoControls");let v=null,f=null,E=.5;e.volume=E;const L=e=>new Date(1e3*e).toISOString().substring(14,19),y=()=>c.classList.remove("showing");t.addEventListener("click",(t=>{e.paused?e.play():e.pause(),n.classList=e.paused?"fas fa-play":"fas fa-pause"})),a.addEventListener("click",(t=>{e.muted?e.muted=!1:e.muted=!0,d.classList=e.muted?"fas fa-volume-mute":"fas fa-volume-up",s.value=e.muted?0:E})),s.addEventListener("input",(t=>{e.muted&&(e.muted=!1,d.classList="fas fa-volume-up");const{target:{value:n}}=t;0==n&&(e.muted=!0,d.classList="fas fa-volume-mute"),E=n,e.volume=n})),e.addEventListener("loadeddata",(()=>{l.innerHTML=L(Math.floor(e.duration)),o.max=Math.floor(e.duration)})),e.addEventListener("timeupdate",(()=>{u.innerHTML=L(Math.floor(e.currentTime)),o.value=Math.floor(e.currentTime)})),e.addEventListener("ended",(()=>{const{id:e}=r.dataset;fetch("/api/videos/".concat(e,"/view"),{method:"POST"})})),e.addEventListener("mousemove",(()=>{v&&(clearTimeout(v),v=null),f&&(clearTimeout(f),f=null),c.classList.add("showing"),f=setTimeout(y,3e3)})),e.addEventListener("mouseleave",(()=>{v=setTimeout(y,3e3)})),o.addEventListener("input",(t=>{e.currentTime=t.target.value})),m.addEventListener("click",(()=>{document.fullscreenElement?(document.exitFullscreen(),i.classList="fas fa-expand"):(r.requestFullscreen(),i.classList="fas fa-compress")}))})();